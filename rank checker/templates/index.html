<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EAPCET College Finder - Professional</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
    :root {
        --primary-color: #2c3e50;
        --primary-hover: #34495e;
        --secondary-color: #3498db;
        --secondary-hover: #2980b9;
        --accent-color: #e74c3c;
        --accent-hover: #c0392b;
        --success-color: #27ae60;
        --warning-color: #f39c12;
        --info-color: #1abc9c;
        --text-dark: #2c3e50;
        --text-medium: #7f8c8d;
        --text-light: #ecf0f1;
        --bg-light: #f8f9fa;
        --bg-white: #ffffff;
        --border-color: #e9ecef;
        --shadow-sm: 0 2px 4px rgba(0,0,0,0.1);
        --shadow-md: 0 4px 6px rgba(0,0,0,0.1);
        --shadow-lg: 0 10px 15px rgba(0,0,0,0.1);
        --gradient-primary: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        --gradient-secondary: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        --gradient-success: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
    }

    * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
    }

    body {
        font-family: 'Inter', 'Segoe UI', system-ui, -apple-system, sans-serif;
        background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
        color: var(--text-dark);
        line-height: 1.6;
        min-height: 100vh;
    }

    /* Header Styles */
    .professional-header {
        background: var(--gradient-primary);
        color: white;
        padding: 2rem 0;
        box-shadow: var(--shadow-lg);
        position: relative;
        overflow: hidden;
    }

    .professional-header::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 100" fill="%23ffffff" opacity="0.1"><polygon points="1000,100 1000,0 0,100"/></svg>');
        background-size: cover;
    }

    .header-content {
        position: relative;
        z-index: 2;
    }

    .header-content h1 {
        font-weight: 700;
        font-size: 2.5rem;
        margin-bottom: 0.5rem;
        text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
    }

    .header-content .lead {
        font-size: 1.2rem;
        opacity: 0.9;
        font-weight: 300;
    }

    .admin-access-btn {
        background: rgba(255,255,255,0.2);
        border: 2px solid rgba(255,255,255,0.3);
        color: white;
        padding: 0.75rem 1.5rem;
        border-radius: 50px;
        text-decoration: none;
        font-weight: 600;
        transition: all 0.3s ease;
        backdrop-filter: blur(10px);
    }

    .admin-access-btn:hover {
        background: rgba(255,255,255,0.3);
        border-color: rgba(255,255,255,0.5);
        color: white;
        transform: translateY(-2px);
        box-shadow: 0 5px 15px rgba(0,0,0,0.2);
    }

    /* Main Container */
    .main-container {
        max-width: 1400px;
        margin: 0 auto;
        padding: 2rem 1rem;
    }

    /* Search Container */
    .search-container {
        background: var(--bg-white);
        border-radius: 20px;
        box-shadow: var(--shadow-lg);
        padding: 2.5rem;
        margin-bottom: 2rem;
        border: 1px solid var(--border-color);
        position: relative;
        overflow: hidden;
    }

    .search-container::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 4px;
        background: var(--gradient-primary);
    }

    .form-label {
        font-weight: 600;
        color: var(--text-dark);
        margin-bottom: 0.5rem;
        font-size: 0.95rem;
    }

    .form-control, .form-select {
        border: 2px solid var(--border-color);
        padding: 0.75rem 1rem;
        border-radius: 12px;
        font-size: 1rem;
        transition: all 0.3s ease;
        background: var(--bg-white);
    }

    .form-control:focus, .form-select:focus {
        border-color: var(--secondary-color);
        box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.1);
        outline: none;
    }

    .voice-btn {
        background: var(--gradient-secondary);
        color: white;
        border: none;
        border-radius: 12px;
        padding: 0.75rem 1rem;
        transition: all 0.3s ease;
    }

    .voice-btn:hover {
        transform: translateY(-2px);
        box-shadow: var(--shadow-md);
    }

    /* Filter Section */
    .filter-section {
        background: linear-gradient(135deg, #f8f9ff 0%, #f0f4ff 100%);
        padding: 1.5rem;
        border-radius: 15px;
        margin: 1.5rem 0;
        border: 1px solid #e3f2fd;
        position: relative;
    }

    .filter-section::before {
        content: '⚙️';
        position: absolute;
        top: -10px;
        left: 20px;
        background: var(--bg-white);
        padding: 0 10px;
        font-size: 0.9rem;
        color: var(--text-medium);
    }

    .filter-title {
        color: var(--primary-color);
        font-weight: 600;
        margin-bottom: 1rem;
        font-size: 1.1rem;
    }

    /* Buttons */
    .btn-primary {
        background: var(--gradient-primary);
        border: none;
        padding: 1rem 2rem;
        font-weight: 600;
        border-radius: 12px;
        transition: all 0.3s ease;
        font-size: 1.1rem;
    }

    .btn-primary:hover {
        transform: translateY(-2px);
        box-shadow: var(--shadow-lg);
    }

    /* Loading and No Results */
    .loading {
        background: var(--bg-white);
        border-radius: 20px;
        padding: 3rem;
        text-align: center;
        display: none;
        margin: 2rem 0;
        box-shadow: var(--shadow-md);
        border: 1px solid var(--border-color);
    }

    .loading-spinner {
        width: 3rem;
        height: 3rem;
        border: 4px solid #f3f3f3;
        border-top: 4px solid var(--secondary-color);
        border-radius: 50%;
        animation: spin 1s linear infinite;
        margin: 0 auto 1rem;
    }

    @keyframes spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
    }

    .no-results {
        background: var(--bg-white);
        border-radius: 20px;
        padding: 3rem;
        text-align: center;
        display: none;
        margin: 2rem 0;
        box-shadow: var(--shadow-md);
        border: 1px solid var(--border-color);
    }

    .no-results i {
        color: var(--text-medium);
        font-size: 4rem;
        margin-bottom: 1rem;
        opacity: 0.5;
    }

    /* Main Grid Layout */
    .main-grid {
        display: grid;
        grid-template-columns: 1fr 2fr;
        gap: 2rem;
        margin-bottom: 3rem;
    }

    /* Colleges Container */
    .colleges-container {
        background: var(--bg-white);
        border-radius: 20px;
        padding: 2rem;
        box-shadow: var(--shadow-lg);
        border: 1px solid var(--border-color);
        height: fit-content;
    }

    .stats-grid {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 1rem;
        margin-bottom: 1.5rem;
    }

    .stat-card {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        padding: 1.5rem;
        border-radius: 15px;
        text-align: center;
        box-shadow: var(--shadow-md);
    }

    .stat-card.success {
        background: var(--gradient-success);
    }

    .stat-number {
        font-size: 2rem;
        font-weight: 700;
        margin-bottom: 0.5rem;
    }

    .stat-label {
        font-size: 0.9rem;
        opacity: 0.9;
    }

    .college-list {
        max-height: 400px;
        overflow-y: auto;
        border: 1px solid var(--border-color);
        border-radius: 12px;
        padding: 1rem;
    }

    .college-item {
        padding: 1rem;
        border-bottom: 1px solid var(--border-color);
        cursor: pointer;
        transition: all 0.3s ease;
        border-radius: 8px;
        margin-bottom: 0.5rem;
    }

    .college-item:hover {
        background: linear-gradient(135deg, #f8f9ff 0%, #f0f4ff 100%);
        transform: translateX(5px);
        border-left: 3px solid var(--secondary-color);
    }

    .college-item:last-child {
        border-bottom: none;
        margin-bottom: 0;
    }

    .no-colleges {
        text-align: center;
        padding: 2rem;
        color: var(--text-medium);
        opacity: 0.7;
    }

    /* Results Container */
    .results-grid {
        display: grid;
        grid-template-columns: 1fr;
        gap: 1.5rem;
    }

    .result-card {
        background: var(--bg-white);
        border-radius: 20px;
        box-shadow: var(--shadow-md);
        padding: 2rem;
        transition: all 0.3s ease;
        border: 1px solid var(--border-color);
        position: relative;
        overflow: hidden;
    }

    .result-card::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 4px;
        background: var(--gradient-success);
    }

    .result-card:hover {
        transform: translateY(-5px);
        box-shadow: var(--shadow-lg);
    }

    .college-name {
        color: var(--primary-color);
        font-weight: 700;
        font-size: 1.3rem;
        margin-bottom: 0.5rem;
    }

    .branch-name {
        font-weight: 600;
        color: var(--text-dark);
        margin-bottom: 1rem;
        padding-bottom: 1rem;
        border-bottom: 2px solid var(--border-color);
    }

    .badge-category {
        font-size: 0.8rem;
        margin-right: 0.5rem;
        padding: 0.5rem 1rem;
        border-radius: 20px;
        font-weight: 600;
    }

    .detail-grid {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 1rem;
    }

    .detail-item {
        margin-bottom: 0.75rem;
    }

    .detail-label {
        font-weight: 600;
        color: var(--text-medium);
        font-size: 0.9rem;
    }

    .detail-value {
        color: var(--text-dark);
        font-weight: 500;
    }

    /* Developer Container */
    .developer-container {
        background: var(--bg-white);
        border-radius: 25px;
        padding: 3rem;
        box-shadow: var(--shadow-lg);
        margin-top: 3rem;
        border: 1px solid var(--border-color);
        position: relative;
        overflow: hidden;
    }

    .developer-container::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 4px;
        background: var(--gradient-secondary);
    }

    .developer-header {
        text-align: center;
        margin-bottom: 2rem;
    }

    .developer-photo {
        width: 150px;
        height: 150px;
        border-radius: 50%;
        object-fit: cover;
        border: 5px solid var(--bg-white);
        box-shadow: var(--shadow-lg);
        margin: 0 auto 1.5rem;
    }

    .developer-info h2 {
        color: var(--primary-color);
        margin-bottom: 1rem;
        font-weight: 700;
    }

    .developer-info p {
        margin-bottom: 1.5rem;
        color: var(--text-medium);
        line-height: 1.8;
        font-size: 1.05rem;
    }

    .organizations-section {
        margin: 2.5rem 0;
        text-align: center;
    }

    .organizations-section h3 {
        color: var(--primary-color);
        margin-bottom: 1.5rem;
        font-weight: 600;
    }

    .organization-logos {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        gap: 2rem;
        margin-bottom: 2rem;
    }

    .organization-logo {
        background: var(--bg-white);
        padding: 1.5rem;
        border-radius: 15px;
        box-shadow: var(--shadow-md);
        transition: all 0.3s ease;
        border: 1px solid var(--border-color);
    }

    .organization-logo:hover {
        transform: translateY(-5px);
        box-shadow: var(--shadow-lg);
    }

    .organization-logo img {
        height: 50px;
        width: auto;
        filter: grayscale(100%);
        transition: filter 0.3s ease;
    }

    .organization-logo:hover img {
        filter: grayscale(0%);
    }

    .social-icons {
        display: flex;
        justify-content: center;
        gap: 1.5rem;
        margin-top: 2rem;
    }

    .social-icon {
        width: 50px;
        height: 50px;
        background: var(--gradient-primary);
        color: white;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        text-decoration: none;
        transition: all 0.3s ease;
        font-size: 1.2rem;
    }

    .social-icon:hover {
        transform: translateY(-3px) scale(1.1);
        color: white;
        box-shadow: var(--shadow-md);
    }

    /* Responsive Design */
    @media (max-width: 1200px) {
        .main-grid {
            grid-template-columns: 1fr;
        }
        
        .colleges-container {
            order: 2;
        }
        
        .results-grid {
            order: 1;
        }
    }

    @media (max-width: 992px) {
        .main-container {
            padding: 1.5rem 1rem;
        }
        
        .search-container {
            padding: 2rem;
        }
        
        .detail-grid {
            grid-template-columns: 1fr;
        }
        
        .developer-container {
            padding: 2rem;
        }
    }

    @media (max-width: 768px) {
        .professional-header {
            padding: 1.5rem 0;
        }
        
        .header-content h1 {
            font-size: 2rem;
        }
        
        .search-container {
            padding: 1.5rem;
        }
        
        .stats-grid {
            grid-template-columns: 1fr;
        }
        
        .organization-logos {
            gap: 1rem;
        }
        
        .organization-logo {
            padding: 1rem;
        }
        
        .organization-logo img {
            height: 40px;
        }
    }

    @media (max-width: 576px) {
        .professional-header {
            padding: 1rem 0;
        }
        
        .header-content h1 {
            font-size: 1.75rem;
        }
        
        .header-content .lead {
            font-size: 1rem;
        }
        
        .search-container {
            padding: 1.25rem;
            border-radius: 15px;
        }
        
        .form-control, .form-select {
            padding: 0.625rem 0.875rem;
        }
        
        .btn-primary {
            padding: 0.875rem 1.5rem;
        }
        
        .result-card {
            padding: 1.5rem;
        }
        
        .developer-container {
            padding: 1.5rem;
        }
        
        .developer-photo {
            width: 120px;
            height: 120px;
        }
        
        .social-icon {
            width: 45px;
            height: 45px;
            font-size: 1.1rem;
        }
    }

    /* Custom Scrollbars */
    ::-webkit-scrollbar {
        width: 8px;
    }

    ::-webkit-scrollbar-track {
        background: #f1f1f1;
        border-radius: 10px;
    }

    ::-webkit-scrollbar-thumb {
        background: var(--secondary-color);
        border-radius: 10px;
    }

    ::-webkit-scrollbar-thumb:hover {
        background: var(--secondary-hover);
    }

    /* Utility Classes */
    .text-gradient {
        background: var(--gradient-primary);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
    }

    .shadow-card {
        box-shadow: var(--shadow-lg);
    }

    .border-gradient {
        border: 2px solid;
        border-image: var(--gradient-primary) 1;
    }
    </style>
</head>
<body>
    <!-- Professional Header -->
    <header class="professional-header">
        <div class="container">
            <div class="header-content text-center">
                <h1>EAPCET College Finder</h1>
                <p class="lead">Find the perfect college based on your rank, category, and preferred courses</p>
                <div class="mt-4">
                    <a href="/admin/login" class="admin-access-btn">
                        <i class="fas fa-user-shield me-2"></i>Admin Access
                    </a>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <div class="main-container">
        <div class="container">
            <!-- Search Section -->
            <div class="search-container">
                <div class="row g-4">
                    <div class="col-md-6">
                        <label for="rankInput" class="form-label">Your Rank</label>
                        <div class="input-group">
                            <input type="text" class="form-control" id="rankInput" placeholder="Enter your EAPCET rank">
                            <button class="btn voice-btn" type="button" id="voiceBtn">
                                <i class="fas fa-microphone"></i>
                            </button>
                        </div>
                    </div>
                    
                    <div class="col-md-6">
                        <label for="categorySelect" class="form-label">Category</label>
                        <select class="form-select" id="categorySelect">
                            <option value="" selected>All Categories</option>
                            {% for category in categories %}
                                <option value="{{ category }}">{{ category }}</option>
                            {% endfor %}
                        </select>
                    </div>
                </div>
                
                <div class="filter-section">
                    <h5 class="filter-title">Advanced Filters</h5>
                    <div class="row g-4">
                        <div class="col-md-6">
                            <label for="branchSelect" class="form-label">Preferred Branch</label>
                            <select class="form-select" id="branchSelect">
                                <option value="" selected>All Branches</option>
                                {% for branch in branch_names %}
                                    <option value="{{ branch }}">{{ branch }}</option>
                                {% endfor %}
                            </select>
                        </div>
                        <div class="col-md-6">
                            <label for="collegeTypeSelect" class="form-label">College Type</label>
                            <select class="form-select" id="collegeTypeSelect">
                                <option value="" selected>All Types</option>
                                {% for type in college_types %}
                                    <option value="{{ type }}">{{ type }}</option>
                                {% endfor %}
                            </select>
                        </div>
                    </div>
                </div>
                
                <div class="d-grid">
                    <button class="btn btn-primary btn-lg" type="button" id="searchBtn">
                        <i class="fas fa-search me-2"></i>Find Matching Colleges
                    </button>
                </div>
            </div>
            
            <!-- Loading Indicator -->
            <div class="loading" id="loadingIndicator">
                <div class="loading-spinner"></div>
                <h4 class="mt-3">Searching for Colleges</h4>
                <p class="text-muted">Please wait while we find the best matches for you...</p>
            </div>
            
            <!-- No Results -->
            <div class="no-results" id="noResults">
                <i class="fas fa-university"></i>
                <h4 class="mt-3">No Colleges Found</h4>
                <p class="text-muted">Try adjusting your rank or filters to get better results</p>
            </div>
            
            <!-- Results Grid -->
            <div class="main-grid">
                <!-- Colleges List -->
                <div class="colleges-container">
                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-number" id="college-count">0</div>
                            <div class="stat-label">Total Courses</div>
                        </div>
                        <div class="stat-card success">
                            <div class="stat-number" id="college-list-count">0</div>
                            <div class="stat-label">Total Colleges</div>
                        </div>
                    </div>
                    
                    <h5 class="mb-3">Matching Colleges</h5>
                    <div class="college-list" id="college-name-list">
                        <div class="no-colleges">
                            <i class="fas fa-search fa-2x mb-3"></i>
                            <p>Search for colleges to see results</p>
                        </div>
                    </div>
                </div>
                
                <!-- Results Container -->
                <div class="results-grid" id="resultsContainer">
                    <!-- Results will be populated here -->
                </div>
            </div>
            
            <!-- Developer Section -->
            <div class="developer-container">
                <div class="developer-info">
                    <div class="developer-header">
                        <img src="https://i.postimg.cc/85qqtHJc/hello.jpg" alt="Developer" class="developer-photo">
                        <h2>About The Developer</h2>
                    </div>
                    <p>
                        Hello, I'm <strong>Laxmi Nivas Morishetty</strong>, a passionate developer, application builder, and software architect. With expertise in creating impactful digital solutions, I also thrive as a teaching expert and motivational guide, helping others unlock their potential through technology and knowledge.
                    </p>
                    <p>
                        This platform—<strong>College Cutoff Finder</strong>—is one of our key developments, designed to simplify and streamline the college search process for students. Built with precision and user experience in mind, this application reflects our commitment to creating practical, efficient, and accessible tools for education.
                    </p>

                    <!-- Organizations Section -->
                    <div class="organizations-section">
                        <h3>Our Organizations</h3>
                        <div class="organization-logos">
                            <a href="https://smartndlightinnovation.netlify.app/" target="_blank" class="organization-logo">
                                <img src="https://i.postimg.cc/VkLXHccr/3.png" alt="Smart and Light Innovation">
                            </a>
                            <a href="https://wisdomroots.netlify.app/" target="_blank" class="organization-logo">
                                <img src="https://i.postimg.cc/BnYHrwqh/4.png" alt="Wisdom Route">
                            </a>
                           
                        </div>
                    </div>

                    <!-- Social Icons -->
                    <div class="social-icons">
                        <a href="https://www.instagram.com/laxminivasmorishetty?igsh=cWJ0OXB6dWh3YnRp&utm_source=qr" target="_blank" class="social-icon" title="Instagram">
                            <i class="fab fa-instagram"></i>
                        </a>
                        <a href="https://in.linkedin.com/in/laxmi-nivas-morishetty-02468m" target="_blank" class="social-icon" title="LinkedIn">
                            <i class="fab fa-linkedin-in"></i>
                        </a>
                        <a href="https://wa.me/919059160424" target="_blank" class="social-icon" title="WhatsApp">
                            <i class="fab fa-whatsapp"></i>
                        </a>
                        <a href="https://laxminivasmorishetty.netlify.app/" target="_blank" class="social-icon" title="Website">
                            <i class="fas fa-globe"></i>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Your existing JavaScript code remains the same
        document.addEventListener('DOMContentLoaded', function() {
            const searchBtn = document.getElementById('searchBtn');
            const voiceBtn = document.getElementById('voiceBtn');
            const rankInput = document.getElementById('rankInput');
            const categorySelect = document.getElementById('categorySelect');
            const branchSelect = document.getElementById('branchSelect');
            const collegeTypeSelect = document.getElementById('collegeTypeSelect');
            const resultsContainer = document.getElementById('resultsContainer');
            const loadingIndicator = document.getElementById('loadingIndicator');
            const noResults = document.getElementById('noResults');
            const collegeCountElement = document.getElementById('college-count');
            const collegeListCountElement = document.getElementById('college-list-count');
            const collegeNameListElement = document.getElementById('college-name-list');
            
            // Search button click handler
            searchBtn.addEventListener('click', function() {
                const rank = rankInput.value.trim();
                const category = categorySelect.value;
                const branch = branchSelect.value;
                const collegeType = collegeTypeSelect.value;
                
                if (!rank) {
                    alert('Please enter your rank');
                    return;
                }
                
                // Show loading indicator
                loadingIndicator.style.display = 'block';
                resultsContainer.innerHTML = '';
                noResults.style.display = 'none';
                collegeNameListElement.innerHTML = '<div class="no-colleges">Searching for colleges...</div>';
                
                // Make API call
                fetch('/search', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        rank: rank,
                        category: category,
                        branch: branch,
                        college_type: collegeType
                    })
                })
                .then(response => response.json())
                .then(data => {
                    loadingIndicator.style.display = 'none';
                    
                    if (data.success) {
                        if (data.count > 0) {
                            displayResults(data.results);
                            updateCollegeList(data.results);
                        } else {
                            noResults.style.display = 'block';
                            collegeNameListElement.innerHTML = '<div class="no-colleges">No colleges found</div>';
                        }
                    } else {
                        alert('Error: ' + (data.error || 'Unknown error occurred'));
                    }
                })
                .catch(error => {
                    loadingIndicator.style.display = 'none';
                    console.error('Error:', error);
                    alert('An error occurred while searching');
                });
            });
            
            // Voice input handler
            voiceBtn.addEventListener('click', function() {
                if (!('webkitSpeechRecognition' in window)) {
                    alert('Your browser does not support speech recognition. Try Chrome or Edge.');
                    return;
                }
                
                const recognition = new webkitSpeechRecognition();
                recognition.lang = 'en-US';
                recognition.interimResults = false;
                
                recognition.onstart = function() {
                    voiceBtn.innerHTML = '<i class="fas fa-microphone-slash"></i>';
                    rankInput.placeholder = 'Listening...';
                };
                
                recognition.onresult = function(event) {
                    const transcript = event.results[0][0].transcript;
                    rankInput.value = transcript.replace(/\D/g, '');
                    voiceBtn.innerHTML = '<i class="fas fa-microphone"></i>';
                    rankInput.placeholder = 'Enter your rank';
                };
                
                recognition.onerror = function(event) {
                    voiceBtn.innerHTML = '<i class="fas fa-microphone"></i>';
                    rankInput.placeholder = 'Enter your rank';
                    console.error('Speech recognition error', event.error);
                };
                
                recognition.start();
            });
            
            // Display results function
            function displayResults(results) {
                resultsContainer.innerHTML = '';
                
                results.forEach(result => {
                    const card = document.createElement('div');
                    card.className = 'result-card';
                    
                    card.innerHTML = `
                        <div class="row">
                            <div class="col-md-8">
                                <h4 class="college-name">${result.name}</h4>
                                <p class="branch-name">${result.branch} (${result.branch_code})</p>
                                
                                <div class="mb-3">
                                    <span class="badge bg-primary badge-category">${result.category}</span>
                                    <span class="badge ${result.gender === 'GIRLS' ? 'bg-danger' : 'bg-info'} badge-category">
                                        ${result.gender}
                                    </span>
                                    <span class="badge bg-secondary badge-category">Cutoff: ${result.cutoff_rank}</span>
                                </div>
                                
                                <div class="detail-grid">
                                    <div class="detail-item">
                                        <span class="detail-label">College Type:</span>
                                        <span class="detail-value">${result.college_type}</span>
                                    </div>
                                    <div class="detail-item">
                                        <span class="detail-label">Co-Ed:</span>
                                        <span class="detail-value">${result.co_ed}</span>
                                    </div>
                                    <div class="detail-item">
                                        <span class="detail-label">Location:</span>
                                        <span class="detail-value">${result.place}</span>
                                    </div>
                                    <div class="detail-item">
                                        <span class="detail-label">Tuition Fee:</span>
                                        <span class="detail-value">₹${result.tuition_fee.toLocaleString()}/year</span>
                                    </div>
                                    <div class="detail-item">
                                        <span class="detail-label">Affiliated To:</span>
                                        <span class="detail-value">${result.affiliated_to}</span>
                                    </div>
                                    <div class="detail-item">
                                        <span class="detail-label">Established:</span>
                                        <span class="detail-value">${result.year_established}</span>
                                    </div>
                                    <div class="detail-item">
                                        <span class="detail-label">Seats:</span>
                                        <span class="detail-value">${result.seats}</span>
                                    </div>
                                    <div class="detail-item">
                                        <span class="detail-label">Duration:</span>
                                        <span class="detail-value">${result.duration}</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        ${result.website ? `
                        <div class="row mt-3">
                            <div class="col-12">
                                <div class="detail-item">
                                    <span class="detail-label">Website:</span>
                                    <a href="https://${result.website}" target="_blank" class="detail-value">${result.website}</a>
                                </div>
                            </div>
                        </div>
                        ` : ''}
                        ${result.facilities ? `
                        <div class="row mt-2">
                            <div class="col-12">
                                <div class="detail-item">
                                    <span class="detail-label">Facilities:</span>
                                    <span class="detail-value">${result.facilities}</span>
                                </div>
                            </div>
                        </div>
                        ` : ''}
                    `;
                    
                    resultsContainer.appendChild(card);
                });
            }
            
            // Update college list function
            function updateCollegeList(results) {
                const uniqueColleges = new Set(results.map(result => result.name));
                collegeCountElement.textContent = results.length;
                collegeListCountElement.textContent = uniqueColleges.size;
                
                collegeNameListElement.innerHTML = '';
                
                Array.from(uniqueColleges).forEach(collegeName => {
                    const collegeItem = document.createElement('div');
                    collegeItem.className = 'college-item';
                    collegeItem.textContent = collegeName;
                    collegeNameListElement.appendChild(collegeItem);
                });
                
                if (uniqueColleges.size === 0) {
                    collegeNameListElement.innerHTML = '<div class="no-colleges">No colleges found</div>';
                }
            }
        });
    </script>
</body>
</html>